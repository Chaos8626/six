webpackJsonp([39],{SUSI:function(t,e,n){e=t.exports=n("FZ+f")(!1),e.push([t.i,"\n.van-nav-bar[data-v-f0f820d4] {\n  background: deeppink;\n}\n.content[data-v-f0f820d4] {\n  margin: auto;\n}\n.title[data-v-f0f820d4] {\n  font-size: 0.8rem;\n  text-align: center;\n}\n.configuration[data-v-f0f820d4] {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n  -webkit-flex-direction: row;\n          flex-direction: row;\n  -webkit-box-pack: justify;\n  -webkit-justify-content: space-between;\n          justify-content: space-between;\n  padding: 0 1.333333rem;\n}\n.configuration .item[data-v-f0f820d4] {\n  background: #f9e3bb;\n  padding: 0.133333rem 0.4rem;\n  border-radius: 0.533333rem;\n}",""])},T6Uf:function(t,e,n){var i=n("SUSI");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n("rjj0")("3245e3f6",i,!0,{})},jmRs:function(t,e,n){"use strict";function i(t){n("T6Uf")}Object.defineProperty(e,"__esModule",{value:!0});var a=n("mvHQ"),r=n.n(a),o={data:function(){return{blocks:[{padding:"20px"}],prizes:[],buttons:[{fonts:[{text:"Go",top:-12}],radius:"22%",background:"#2da3e0",pointer:!0}],defaultStyle:{fontColor:"red",fontSize:"12px",background:"pink"},title:"",params:[],recordInfo:[],id:""}},mounted:function(){var t=JSON.parse(localStorage.getItem("arr"));null===t||0===t.length?this.params=[{name:"100元红包",probability:1},{name:"50元红包",probability:3},{name:"1元红包",probability:5},{name:"10元红包",probability:2},{name:"5元红包",probability:4},{name:"谢谢惠顾",probability:85}]:this.params=t;var e=JSON.parse(localStorage.getItem("recordInfo"));null===e||0===e.length?this.recordInfo=[]:this.recordInfo=e,this.getPrizesList()},methods:{getSort:function(){var t=this,e=parseInt(100*Math.random()),n=0,i=this.params;i.forEach(function(i,a){i.probability=Number(i.probability),i.minNum=n,n+=i.probability,i.maxNum=n,e>=i.minNum&&e<i.maxNum&&(t.id=a)}),console.log(i,this.id,e)},getPrizesList:function(){var t=[];this.params.sort(function(t,e){return t.probability-e.probability}),this.params.forEach(function(e,n){t.push({title:e.name,background:n%2?"#f9e3bb":"#f8d384",fonts:[{text:e.name,top:"30%"}],fontSize:"10px"})}),this.prizes=t},startCallBack:function(){var t=this;this.getSort(),this.$refs.LuckyWheel.play(),setTimeout(function(){t.$refs.LuckyWheel.stop(t.id)},1e3)},endCallBack:function(t){var e=new Date,n=e.getFullYear(),i=e.getMonth()+1,a=e.getDate(),o=e.getHours(),s=e.getMinutes(),l=e.getSeconds();i=i<10?"0"+i:i,a=a<10?"0"+a:a,o=o<10?"0"+o:o,s=s<10?"0"+s:s,l=l<10?"0"+l:l;var c=n+"-"+i+"-"+a+"  "+o+":"+s+":"+l;"谢谢惠顾"===t.title?this.title="很遗憾，您没有中奖！":(this.recordInfo.unshift({name:t.title,time:c}),localStorage.setItem("recordInfo",r()(this.recordInfo)),this.title="恭喜您获得"+t.title),this.$dialog.alert({title:"温馨提示",message:this.title})},goConfiguration:function(){this.$router.push({name:"fhDrawConfiguration",params:{arr:this.params}})},record:function(){this.$router.push({name:"fhDrawRecord"})}}},s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"box"},[n("fh-nav-bar",{attrs:{title:"抽奖组件",fixed:"",placeholder:"",leftarrow:""}}),t._v(" "),n("LuckyWheel",{ref:"LuckyWheel",staticClass:"content",attrs:{width:"300px",height:"300px",blocks:t.blocks,prizes:t.prizes,buttons:t.buttons,defaultStyle:t.defaultStyle},on:{start:t.startCallBack,end:t.endCallBack}}),t._v(" "),n("div",{staticClass:"configuration"},[n("div",{staticClass:"item",on:{click:t.goConfiguration}},[t._v("活动配置 >")]),t._v(" "),n("div",{staticClass:"item",on:{click:t.record}},[t._v("中奖记录 >")])])],1)},l=[],c={render:s,staticRenderFns:l},f=c,d=n("VU/8"),u=i,p=d(o,f,!1,u,"data-v-f0f820d4",null);e.default=p.exports}});