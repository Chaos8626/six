webpackJsonp([28],{"8rZC":function(t,e,n){var a=n("xKWv");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n("rjj0")("8190b1b2",a,!0,{})},CVJ0:function(t,e,n){e=t.exports=n("FZ+f")(!1),e.push([t.i,"",""])},MSs7:function(t,e,n){var a=n("CVJ0");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n("rjj0")("09de0b7e",a,!0,{})},xFG7:function(t,e,n){"use strict";function a(t){n("8rZC")}function i(t){n("MSs7")}Object.defineProperty(e,"__esModule",{value:!0});var s=n("0eEN"),c=n("YxJB"),o=n("7t+N"),r=n.n(o),l=(c.a,{components:{Flexbox:c.a},data:function(){return{}},props:{value:{}},mounted:function(){this.init_lineCanvas()},methods:{saveSign:function(){var t=this;setTimeout(function(){t.imgBase64=localStorage.getItem("imgBase64"),t.$emit("input",t.imgBase64)},500)},init_lineCanvas:function(){document.addEventListener("touchmove",function(t){t.preventDefault()},{passive:!1,once:!0}),new this.lineCanvas({el:document.getElementById("canvas"),clearEl:document.getElementById("clearCanvas"),saveEl:document.getElementById("saveCanvas"),linewidth:3,color:"black",background:"#ffffff"})},lineCanvas:function(t){this.linewidth=1,this.color="#000000",this.background="#ffffff";for(var e in t)this[e]=t[e];console.log(r()(".popup-warp").height()),console.log(r()(".popup-title").height()),console.log(r()("#clearCanvas").height());var n=r()(".popup-warp").height()-r()(".popup-title").height()-r()("#clearCanvas").height();this.canvas=document.createElement("canvas"),this.el.appendChild(this.canvas),this.cxt=this.canvas.getContext("2d"),this.canvas.width=350,this.canvas.height=n,this.cxt.fillStyle=this.background,this.cxt.fillRect(0,0,this.canvas.width,this.canvas.width),this.cxt.strokeStyle=this.color,this.cxt.lineWidth=this.linewidth,this.cxt.lineCap="round",this.canvas.addEventListener("touchstart",function(t){console.log("开始绘制",t),this.cxt.beginPath(),this.cxt.moveTo(t.changedTouches[0].pageX,t.changedTouches[0].pageY-r()(".signature").offset().top)}.bind(this),!1),this.canvas.addEventListener("touchmove",function(t){this.cxt.lineTo(t.changedTouches[0].pageX,t.changedTouches[0].pageY-r()(".signature").offset().top),this.cxt.stroke()}.bind(this),!1),this.canvas.addEventListener("touchend",function(){console.log("结束绘制"),this.cxt.closePath()}.bind(this),!1),this.clearEl.addEventListener("click",function(){console.log("清除画布"),this.cxt.clearRect(0,0,this.canvas.width,this.canvas.height)}.bind(this),!1),document.getElementById("clearCanvas").click(),this.saveEl.addEventListener("click",function(){var t=this.canvas.toDataURL();localStorage.setItem("imgBase64",t)}.bind(this),!1)}}}),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._m(0),t._v(" "),n("Flexbox",{staticClass:"actions"},[n("button",{staticClass:"fh-theme-opacity",attrs:{type:"resign",id:"clearCanvas"}},[t._v("重新签名")]),t._v(" "),n("button",{staticClass:"fh-theme-bgcolor",attrs:{type:"save",id:"saveCanvas"},on:{click:t.saveSign}},[t._v("确定保存")])])],1)},h=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"signature"},[n("div",{attrs:{id:"canvas"}})])}],f={render:d,staticRenderFns:h},u=f,v=n("VU/8"),g=a,b=v(l,u,!1,g,"data-v-1cbbe5fe",null),p=b.exports,m=(s.a,{components:{fhPopup:s.a,fhSignNature:p},data:function(){return{circularBead:!1,basestr:""}},watch:{basestr:function(t,e){this.circularBead=!1,this.basestr=t}},methods:{onClickLeft:function(){this.$router?this.$router.back():window.history.back()},clickSign:function(){this.circularBead=!this.circularBead}}}),k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("van-nav-bar",{attrs:{title:"fhSignNature签名组件","left-arrow":""},on:{"click-left":t.onClickLeft}}),t._v(" "),n("demo-block",{attrs:{title:"基础用法"}}),t._v(" "),n("van-button",{staticStyle:{"margin-bottom":"16px"},attrs:{type:"primary",size:"large"},on:{click:function(e){return t.clickSign()}}},[t._v("点击签名")]),t._v(" "),n("fhPopup",{attrs:{id:"signNature",round:!0},model:{value:t.circularBead,callback:function(e){t.circularBead=e},expression:"circularBead"}},[n("fhSignNature",{model:{value:t.basestr,callback:function(e){t.basestr=e},expression:"basestr"}})],1),t._v(" "),n("img",{staticStyle:{width:"100%"},attrs:{src:this.basestr}})],1)},x=[],C={render:k,staticRenderFns:x},w=C,y=n("VU/8"),_=i,E=y(m,w,!1,_,"data-v-14a1a76c",null);e.default=E.exports},xKWv:function(t,e,n){e=t.exports=n("FZ+f")(!1),e.push([t.i,"\n.actions[data-v-1cbbe5fe] {\n  height: 1.333333rem;\n  background: #fff;\n  position: absolute;\n  bottom: 0;\n}\nbutton[data-v-1cbbe5fe] {\n  height: 14vw;\n  -webkit-box-flex: 1;\n  -webkit-flex: auto;\n          flex: auto;\n  color: #FFFFFF;\n  font-size: 0.453333rem;\n  font-weight: 400;\n  border: none;\n  outline: none;\n  margin-left: 0;\n}\n#clearCanvas[data-v-1cbbe5fe] {\n  background-color: #e1f2fe;\n  color: #0087ff;\n}\n#saveCanvas[data-v-1cbbe5fe] {\n  background-color: #0087ff;\n}\n.signature[data-v-1cbbe5fe] {\n  width: 100%;\n  background: #fff;\n  position: relative;\n}\n#canvas[data-v-1cbbe5fe] {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n          justify-content: center;\n  margin: 1vw 1vw;\n}\n#canvas canvas[data-v-1cbbe5fe] {\n  border: 0.026667rem solid;\n  display: block;\n  background: #f3f3f3;\n  border-radius: 0.213333rem;\n}\n#changeColor[data-v-1cbbe5fe] {\n  font-size: 0.453333rem;\n  color: #d3b88a;\n  background-image: -webkit-linear-gradient(top, #6e6e6e 0%, #484848 100%);\n  background-image: linear-gradient(-180deg, #6e6e6e 0%, #484848 100%);\n}\n\n/* #clearCanvas {\n  font-size: 17px;\n  color: #d3b88a;\n  background-image: linear-gradient(-180deg, #6e6e6e 0%, #484848 100%);\n}\n\n#saveCanvas {\n  font-size: 17px;\n  color: #ffffff;\n  background-image: linear-gradient(-180deg, #d9c197 0%, #ceb181 100%);\n} */",""])}});