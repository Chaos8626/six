webpackJsonp([30],{MLs3:function(e,t,a){"use strict";function i(e){a("nbqL")}function r(e){a("Vbnv")}Object.defineProperty(t,"__esModule",{value:!0});var n=a("Gu7T"),o=a.n(n),s=a("C4MV"),u=a.n(s),f=a("fZjL"),c=a.n(f),l=a("woOf"),h=a.n(l),m=a("Zrlr"),v=a.n(m),d=a("wxAW"),p=a.n(d),g=function(){function e(t){var a=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};v()(this,e),i=h()({antialias:!1,depthTest:!1,mousemove:!1,autosize:!0,side:"front",vertex:"\n      precision highp float;\n      attribute vec4 a_position;\n      attribute vec4 a_color;\n      uniform float u_time;\n      uniform vec2 u_resolution;\n      uniform vec2 u_mousemove;\n      uniform mat4 u_projection;\n      varying vec4 v_color;\n      void main() {\n        gl_Position = u_projection * a_position;\n        gl_PointSize = (10.0 / gl_Position.w) * 100.0;\n        v_color = a_color;\n      }",fragment:"\n      precision highp float;\n      uniform sampler2D u_texture;\n      uniform int u_hasTexture;\n      varying vec4 v_color;\n      void main() {\n        if ( u_hasTexture == 1 ) {\n          gl_FragColor = v_color * texture2D(u_texture, gl_PointCoord);\n        } else {\n          gl_FragColor = v_color;\n        }\n      }",uniforms:{},buffers:{},camera:{},texture:null,onUpdate:function(){},onResize:function(){}},i);var r=h()({time:{type:"float",value:0},hasTexture:{type:"int",value:0},resolution:{type:"vec2",value:[0,0]},mousemove:{type:"vec2",value:[0,0]},projection:{type:"mat4",value:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}},i.uniforms),n=h()({position:{size:3,data:[]},color:{size:4,data:[]}},i.buffers),o=h()({fov:60,near:1,far:1e4,aspect:1,z:100,perspective:!0},i.camera),s=document.createElement("canvas"),u=s.getContext("webgl",{antialias:i.antialias});if(!u)return!1;this.count=0,this.gl=u,this.canvas=s,this.camera=o,this.holder=t,this.onUpdate=i.onUpdate,this.onResize=i.onResize,this.data={},t.appendChild(s),this.createProgram(i.vertex,i.fragment),this.createBuffers(n),this.createUniforms(r),this.updateBuffers(),this.updateUniforms(),this.createTexture(i.texture),u.enable(u.BLEND),u.enable(u.CULL_FACE),u.blendFunc(u.SRC_ALPHA,u.ONE),u[i.depthTest?"enable":"disable"](u.DEPTH_TEST),i.autosize&&window.addEventListener("resize",function(e){return a.resize(e)},!1),i.mousemove&&window.addEventListener("mousemove",function(e){return a.mousemove(e)},!1),this.resize(),this.update=this.update.bind(this),this.time={start:performance.now(),old:performance.now()},this.update()}return p()(e,[{key:"mousemove",value:function(e){var t=e.pageX/this.width*2-1,a=e.pageY/this.height*2-1;this.uniforms.mousemove=[t,a]}},{key:"resize",value:function(e){var t=this.holder,a=this.canvas,i=this.gl,r=this.width=t.offsetWidth,n=this.height=t.offsetHeight,o=this.aspect=r/n,s=this.dpi=devicePixelRatio;a.width=r*s,a.height=n*s,a.style.width="100%",a.style.height="100%",i.viewport(0,0,r*s,n*s),i.clearColor(0,0,0,0),this.uniforms.resolution=[r,n],this.uniforms.projection=this.setProjection(o),this.onResize(r,n,s)}},{key:"setProjection",value:function(e){var t=this.camera;if(t.perspective){t.aspect=e;var a=t.fov*(Math.PI/180),i=Math.tan(.5*Math.PI-.5*a),r=1/(t.near-t.far),n=[i/t.aspect,0,0,0,0,i,0,0,0,0,(t.near+t.far)*r,-1,0,0,t.near*t.far*r*2,0];return n[14]+=t.z,n[15]+=t.z,n}return[2/this.width,0,0,0,0,-2/this.height,0,0,0,0,1,0,-1,1,0,1]}},{key:"createShader",value:function(e,t){var a=this.gl,i=a.createShader(e);if(a.shaderSource(i,t),a.compileShader(i),a.getShaderParameter(i,a.COMPILE_STATUS))return i;console.log(a.getShaderInfoLog(i)),a.deleteShader(i)}},{key:"createProgram",value:function(e,t){var a=this.gl,i=this.createShader(a.VERTEX_SHADER,e),r=this.createShader(a.FRAGMENT_SHADER,t),n=a.createProgram();a.attachShader(n,i),a.attachShader(n,r),a.linkProgram(n),a.getProgramParameter(n,a.LINK_STATUS)?(a.useProgram(n),this.program=n):(console.log(a.getProgramInfoLog(n)),a.deleteProgram(n))}},{key:"createUniforms",value:function(e){var t=this,a=this.gl,i=this.data.uniforms=e,r=this.uniforms={};c()(i).forEach(function(e){i[e].location=a.getUniformLocation(t.program,"u_"+e),u()(r,e,{set:function(a){i[e].value=a,t.setUniform(e,a)},get:function(){return i[e].value}})})}},{key:"setUniform",value:function(e,t){var a=this.gl,i=this.data.uniforms[e];switch(i.value=t,i.type){case"int":a.uniform1i(i.location,t);break;case"float":a.uniform1f(i.location,t);break;case"vec2":a.uniform2f.apply(a,[i.location].concat(o()(t)));break;case"vec3":a.uniform3f.apply(a,[i.location].concat(o()(t)));break;case"vec4":a.uniform4f.apply(a,[i.location].concat(o()(t)));break;case"mat2":a.uniformMatrix2fv(i.location,!1,t);break;case"mat3":a.uniformMatrix3fv(i.location,!1,t);break;case"mat4":a.uniformMatrix4fv(i.location,!1,t)}}},{key:"updateUniforms",value:function(){var e=this,t=this.data.uniforms;c()(t).forEach(function(a){var i=t[a];e.uniforms[a]=i.value})}},{key:"createBuffers",value:function(e){var t=this,a=this.data.buffers=e,i=this.buffers={};c()(a).forEach(function(e){var r=a[e];r.buffer=t.createBuffer("a_"+e,r.size),u()(i,e,{set:function(i){a[e].data=i,t.setBuffer(e,i),"position"==e&&(t.count=a.position.data.length/3)},get:function(){return a[e].data}})})}},{key:"createBuffer",value:function(e,t){var a=this.gl,i=this.program,r=a.getAttribLocation(i,e),n=a.createBuffer();return a.bindBuffer(a.ARRAY_BUFFER,n),a.enableVertexAttribArray(r),a.vertexAttribPointer(r,t,a.FLOAT,!1,0,0),n}},{key:"setBuffer",value:function(e,t){var a=this.gl,i=this.data.buffers;(null!=e||a.bindBuffer(a.ARRAY_BUFFER,null))&&(a.bindBuffer(a.ARRAY_BUFFER,i[e].buffer),a.bufferData(a.ARRAY_BUFFER,new Float32Array(t),a.STATIC_DRAW))}},{key:"updateBuffers",value:function(){var e=this.buffers;c()(e).forEach(function(t){return e[t]=buffer.data}),this.setBuffer(null)}},{key:"createTexture",value:function(e){var t=this.gl,a=t.createTexture();t.bindTexture(t.TEXTURE_2D,a),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array([0,0,0,0])),this.texture=a,e&&(this.uniforms.hasTexture=1,this.loadTexture(e))}},{key:"loadTexture",value:function(e){var t=this.gl,a=this.texture,i=new Image;i.onload=function(){t.bindTexture(t.TEXTURE_2D,a),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,i),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)},i.src=e}},{key:"update",value:function(){var e=this.gl,t=performance.now(),a=(t-this.time.start)/5e3,i=t-this.time.old;this.time.old=t,this.uniforms.time=a,this.count>0&&(e.clear(e.COLORBUFFERBIT),e.drawArrays(e.POINTS,0,this.count)),this.onUpdate(i),requestAnimationFrame(this.update)}}]),e}(),_=(String,function(){function e(t){var a=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};v()(this,e),i=h()({antialias:!1,depthTest:!1,mousemove:!1,autosize:!0,side:"front",vertex:"\n      precision highp float;\n      attribute vec4 a_position;\n      attribute vec4 a_color;\n      uniform float u_time;\n      uniform vec2 u_resolution;\n      uniform vec2 u_mousemove;\n      uniform mat4 u_projection;\n      varying vec4 v_color;\n      void main() {\n        gl_Position = u_projection * a_position;\n        gl_PointSize = (10.0 / gl_Position.w) * 100.0;\n        v_color = a_color;\n      }",fragment:"\n      precision highp float;\n      uniform sampler2D u_texture;\n      uniform int u_hasTexture;\n      varying vec4 v_color;\n      void main() {\n        if ( u_hasTexture == 1 ) {\n          gl_FragColor = v_color * texture2D(u_texture, gl_PointCoord);\n        } else {\n          gl_FragColor = v_color;\n        }\n      }",uniforms:{},buffers:{},camera:{},texture:null,onUpdate:function(){},onResize:function(){}},i);var r=h()({time:{type:"float",value:0},hasTexture:{type:"int",value:0},resolution:{type:"vec2",value:[0,0]},mousemove:{type:"vec2",value:[0,0]},projection:{type:"mat4",value:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}},i.uniforms),n=h()({position:{size:3,data:[]},color:{size:4,data:[]}},i.buffers),o=h()({fov:60,near:1,far:1e4,aspect:1,z:100,perspective:!0},i.camera),s=document.createElement("canvas"),u=s.getContext("webgl",{antialias:i.antialias});if(!u)return!1;this.count=0,this.gl=u,this.canvas=s,this.camera=o,this.holder=t,this.onUpdate=i.onUpdate,this.onResize=i.onResize,this.data={},t.appendChild(s),this.createProgram(i.vertex,i.fragment),this.createBuffers(n),this.createUniforms(r),this.updateBuffers(),this.updateUniforms(),this.createTexture(i.texture),u.enable(u.BLEND),u.enable(u.CULL_FACE),u.blendFunc(u.SRC_ALPHA,u.ONE),u[i.depthTest?"enable":"disable"](u.DEPTH_TEST),i.autosize&&window.addEventListener("resize",function(e){return a.resize(e)},!1),i.mousemove&&window.addEventListener("mousemove",function(e){return a.mousemove(e)},!1),this.resize(),this.update=this.update.bind(this),this.time={start:performance.now(),old:performance.now()},this.update()}return p()(e,[{key:"mousemove",value:function(e){var t=e.pageX/this.width*2-1,a=e.pageY/this.height*2-1;this.uniforms.mousemove=[t,a]}},{key:"resize",value:function(e){var t=this.holder,a=this.canvas,i=this.gl,r=this.width=t.offsetWidth,n=this.height=t.offsetHeight,o=this.aspect=r/n,s=this.dpi=devicePixelRatio;a.width=r*s,a.height=n*s,a.style.width="100%",a.style.height="100%",i.viewport(0,0,r*s,n*s),i.clearColor(0,0,0,0),this.uniforms.resolution=[r,n],this.uniforms.projection=this.setProjection(o),this.onResize(r,n,s)}},{key:"setProjection",value:function(e){var t=this.camera;if(t.perspective){t.aspect=e;var a=t.fov*(Math.PI/180),i=Math.tan(.5*Math.PI-.5*a),r=1/(t.near-t.far),n=[i/t.aspect,0,0,0,0,i,0,0,0,0,(t.near+t.far)*r,-1,0,0,t.near*t.far*r*2,0];return n[14]+=t.z,n[15]+=t.z,n}return[2/this.width,0,0,0,0,-2/this.height,0,0,0,0,1,0,-1,1,0,1]}},{key:"createShader",value:function(e,t){var a=this.gl,i=a.createShader(e);if(a.shaderSource(i,t),a.compileShader(i),a.getShaderParameter(i,a.COMPILE_STATUS))return i;console.log(a.getShaderInfoLog(i)),a.deleteShader(i)}},{key:"createProgram",value:function(e,t){var a=this.gl,i=this.createShader(a.VERTEX_SHADER,e),r=this.createShader(a.FRAGMENT_SHADER,t),n=a.createProgram();a.attachShader(n,i),a.attachShader(n,r),a.linkProgram(n),a.getProgramParameter(n,a.LINK_STATUS)?(a.useProgram(n),this.program=n):(console.log(a.getProgramInfoLog(n)),a.deleteProgram(n))}},{key:"createUniforms",value:function(e){var t=this,a=this.gl,i=this.data.uniforms=e,r=this.uniforms={};c()(i).forEach(function(e){i[e].location=a.getUniformLocation(t.program,"u_"+e),u()(r,e,{set:function(a){i[e].value=a,t.setUniform(e,a)},get:function(){return i[e].value}})})}},{key:"setUniform",value:function(e,t){var a=this.gl,i=this.data.uniforms[e];switch(i.value=t,i.type){case"int":a.uniform1i(i.location,t);break;case"float":a.uniform1f(i.location,t);break;case"vec2":a.uniform2f.apply(a,[i.location].concat(o()(t)));break;case"vec3":a.uniform3f.apply(a,[i.location].concat(o()(t)));break;case"vec4":a.uniform4f.apply(a,[i.location].concat(o()(t)));break;case"mat2":a.uniformMatrix2fv(i.location,!1,t);break;case"mat3":a.uniformMatrix3fv(i.location,!1,t);break;case"mat4":a.uniformMatrix4fv(i.location,!1,t)}}},{key:"updateUniforms",value:function(){var e=this,t=this.data.uniforms;c()(t).forEach(function(a){var i=t[a];e.uniforms[a]=i.value})}},{key:"createBuffers",value:function(e){var t=this,a=this.data.buffers=e,i=this.buffers={};c()(a).forEach(function(e){var r=a[e];r.buffer=t.createBuffer("a_"+e,r.size),u()(i,e,{set:function(i){a[e].data=i,t.setBuffer(e,i),"position"==e&&(t.count=a.position.data.length/3)},get:function(){return a[e].data}})})}},{key:"createBuffer",value:function(e,t){var a=this.gl,i=this.program,r=a.getAttribLocation(i,e),n=a.createBuffer();return a.bindBuffer(a.ARRAY_BUFFER,n),a.enableVertexAttribArray(r),a.vertexAttribPointer(r,t,a.FLOAT,!1,0,0),n}},{key:"setBuffer",value:function(e,t){var a=this.gl,i=this.data.buffers;(null!=e||a.bindBuffer(a.ARRAY_BUFFER,null))&&(a.bindBuffer(a.ARRAY_BUFFER,i[e].buffer),a.bufferData(a.ARRAY_BUFFER,new Float32Array(t),a.STATIC_DRAW))}},{key:"updateBuffers",value:function(){var e=this.buffers;c()(e).forEach(function(t){return e[t]=buffer.data}),this.setBuffer(null)}},{key:"createTexture",value:function(e){var t=this.gl,a=t.createTexture();t.bindTexture(t.TEXTURE_2D,a),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array([0,0,0,0])),this.texture=a,e&&(this.uniforms.hasTexture=1,this.loadTexture(e))}},{key:"loadTexture",value:function(e){var t=this.gl,a=this.texture,i=new Image;i.onload=function(){t.bindTexture(t.TEXTURE_2D,a),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,i),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)},i.src=e}},{key:"update",value:function(){var e=this.gl,t=performance.now(),a=(t-this.time.start)/5e3,i=t-this.time.old;this.time.old=t,this.uniforms.time=a,this.count>0&&(e.clear(e.COLORBUFFERBIT),e.drawArrays(e.POINTS,0,this.count)),this.onUpdate(i),requestAnimationFrame(this.update)}}]),e}()),E={name:"bgAnimation",props:{bgColor:{type:String,default:"#000"}},data:function(){return{}},mounted:function(){new _(document.querySelector(".waves"),{texture:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAb1BMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8v0wLRAAAAJHRSTlMAC/goGvDhmwcExrVjWzrm29TRqqSKenRXVklANSIUE8mRkGpv+HOfAAABCElEQVQ4y4VT13LDMAwLrUHteO+R9f/fWMfO6dLaPeKVEECRxOULWsEGpS9nULDwia2Y+ALqUNbAWeg775zv+sA4/FFRMxt8U2FZFCVWjR/YrH4/H9sarclSKdPMWKzb8VsEeHB3m0shkhVCyNzeXeAQ9Xl4opEieX2QCGnwGbj6GMyjw9t1K0fK9YZunPXeAGsfJtYjwzxaBnozGGorYz0ypK2HzQSYx1y8DgSRo2ewOiyh2QWOEk1Y9OrQV0a8TiBM1a8eMHWYnRMy7CZ4t1CmyRkhSUvP3gRXyHOCLBxNoC3IJv//ZrJ/kxxUHPUB+6jJZZHrpg6GOjnqaOmzp4NDR48OLxn/H27SRQ08S0ZJAAAAAElFTkSuQmCC",uniforms:{size:{type:"float",value:2.5},field:{type:"vec3",value:[0,0,0]},speed:{type:"float",value:5}},vertex:"\n  #define M_PI 3.1415926535897932384626433832795\n  precision highp float;\n  attribute vec4 a_position;\n  attribute vec4 a_color;\n  uniform float u_time;\n  uniform float u_size;\n  uniform float u_speed;\n  uniform vec3 u_field;\n  uniform mat4 u_projection;\n  varying vec4 v_color;\n  void main() {\n    vec3 pos = a_position.xyz;\n    pos.y += (\n      cos(pos.x / u_field.x * M_PI * 8.0 + u_time * u_speed) +\n      sin(pos.z / u_field.z * M_PI * 8.0 + u_time * u_speed)\n    ) * u_field.y;\n    gl_Position = u_projection * vec4( pos.xyz, a_position.w );\n    gl_PointSize = ( u_size / gl_Position.w ) * 100.0;\n    v_color = a_color;\n  }",fragment:"\n  precision highp float;\n  uniform sampler2D u_texture;\n  varying vec4 v_color;\n  void main() {\n    gl_FragColor = v_color * texture2D(u_texture, gl_PointCoord);\n  }",onResize:function(e,t,a){for(var i=[],r=[],n=e/t*400,o=0;o<n;o+=5)for(var s=0;s<400;s+=5)i.push(-n/2+o,-30,-200+s),r.push(0,1-o/n*1,.5+o/n*.5,s/400);this.uniforms.field=[n,3,400],this.buffers.position=i,this.buffers.color=r,this.uniforms.size=t/400*2.5*a}})}},A=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"bgAnimation",style:{background:e.bgColor}},[a("div",{staticClass:"waves"})])},T=[],R={render:A,staticRenderFns:T},b=R,x=a("VU/8"),y=i,U=x(E,b,!1,y,"data-v-ab1fac02",null),P=U.exports,S={components:{bgAnimation:P},data:function(){return{bgColor:"#000"}}},w=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("fh-nav-bar",{attrs:{title:"动态背景2",fixed:"",placeholder:"",leftarrow:""}}),e._v(" "),a("bg-animation",{attrs:{bgColor:e.bgColor}})],1)},B=[],k={render:w,staticRenderFns:B},z=k,C=a("VU/8"),L=r,D=C(S,z,!1,L,"data-v-0bbc5678",null);t.default=D.exports},PjXr:function(e,t,a){t=e.exports=a("FZ+f")(!1),t.push([e.i,"\n.bgAnimation[data-v-ab1fac02] {\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  overflow: hidden;\n}\ncanvas[data-v-ab1fac02] {\n  display: block;\n}\n.waves[data-v-ab1fac02] {\n  position: absolute;\n  left: 0.053333rem;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  overflow: hidden;\n}",""])},UgcG:function(e,t,a){t=e.exports=a("FZ+f")(!1),t.push([e.i,"\n.container[data-v-0bbc5678] {\n  width: 100%;\n  height: 100%;\n}",""])},Vbnv:function(e,t,a){var i=a("UgcG");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("rjj0")("11f8431d",i,!0,{})},nbqL:function(e,t,a){var i=a("PjXr");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("rjj0")("5ce5a03e",i,!0,{})}});